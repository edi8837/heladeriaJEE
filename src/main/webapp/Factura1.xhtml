<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Seccion ENTIDAD</title>
        <link href="recursos/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="recursos/css/propio.css" rel="stylesheet"/>
        <f:event type="preRenderView" listener="#{controlarSesion.verificarSesion()}"/>
        <style>
            .linea {
                border-top: 1px solid black;
                height: 2px;
                padding: 0;
                margin: 20px auto 0 auto;
            }
            .tabla {
                border-collapse: collapse;
            }

            .cabeceraTabla {
                text-align: center;
                background: none repeat scroll 0 0 #E5E5E5;
                border-bottom: 1px solid #BBBBBB;
                padding: 8px;
            }

            .filaPar {
                text-align: center;
                background: none repeat scroll 0 0 #FFFFFFF;
                border-top: 1px solid #BBBBBB;
            }

            .filaImpar {
                text-align: center;
                background: none repeat scroll 0 0 #F9F9F9;
                border-top: 1px solid #BBBBBB;
            }
        </style>
    </h:head>
    <h:body>
        <h:form class="container">
            <h3 class="text-center">Facturar</h3>
            <div class="row">      
                <div>
                    <h:inputText id="nombre" value="#{facturaBean.factura.id}"  > </h:inputText>
                </div>
                <div class="col-md-6">

                    <h4>Datos Cliente Factura</h4>
                    <div class="input-group mb-3">

                        <div class="input-group mb-3">
                            <label for="txtNumeroCedula">Número de cedula a Facturar: </label>
                            <h:inputText id="nombre" value="#{facturaBean.idCliente}"  >
                                <f:passThroughAttribute name="placeholder" value="Cédula"/>            
                            </h:inputText>
                            <h:message for="nombre" style="color:red;"/>

                            <h:commandButton action="#{facturaBean.buscarCliente}" value="Buscar" class="btn btn-primary">
                            </h:commandButton>
                        </div>

                        <h:message for="txtNumeroCedula"
                                   style="color:red; margin-top: 0.5rem; display: block" />
                    </div>
                    <div class="input-group mb-3">
                        <label for="txtNombrePer">Nombre del Cliente</label>
                        <h:outputText class="input-group-text" id="txtNombrePer"
                                      value="#{facturaBean.nombreCliente}" />
                    </div>
                    <div class="input-group mb-3">
                        <label for="txtApellidoPer">numero De telefono</label>
                        <h:outputText value="#{facturaBean.numeroTelfonoC}" 
                                      id="txtnumeroPer" />
                    </div>
                    <div class="input-group mb-3">
                        <label for="txtApellidoPer">Direccion :</label>
                        <h:outputText value="#{facturaBean.direccionCliente}" 
                                      id="txtDireccionPer" />
                    </div>


                    <h5>Ingresar Producto a Facturar</h5>
                    <div class="input-group mb-3">
                        <label for="txtProducto">Ingrese nombre Producto:</label>
                        <h:inputText id="nombreProducto" value="#{facturaBean.idProducto}" p:placeholder="Codigo" class="form-control" >
                            <f:passThroughAttribute name="placeholder" value="Codigo"/>            
                        </h:inputText>
                        <h:message for="nombreProducto" style="color:red;"/>
                        <h:commandButton action="#{facturaBean.buscarProducto}" value="Buscar" class="btn btn-primary">
                           
                        </h:commandButton>  
                    </div>
                        
                    <div class="input-group mb-3">
                        <label for="txtPrecioPro">Precio Unitario:</label>
                        <h:outputText  id="txtPrecioPro"
                                      value="#{facturaBean.producto.precio}" />
                    </div>
                    <div class="input-group mb-3">
                        <label for="txtStock">Stock Producto:</label>
                        <h:outputText class="input-group-text" id="txtStock"
                                      value="#{facturaBean.producto.stock}" />
                    </div>
                    <div class="input-group mb-3">
                        <label for="txtCan">Cantidad:</label>
                        <h:inputText requiredMessage="Este campo es requerido" value="#{facturaBean.cantidad}"
                                     class="input-group-text" id="txtCan">
                            <f:ajax execute="txtCan" render="txtPrecioT"
                                    listener="#{facturaBean.calcularTotalProducto()}" />
                            <f:validateRequired />
                        </h:inputText>
                    </div>






                </div>
            </div>
        </h:form>

    </h:body>

</html>